$themes: (
    cerulean: (
        color-primary: #2C7DA0,
        color-background:#ffffff,
        color-background-alt:#eff3f5,
        color-background-skeleton:#00000005,
        color-text: #495057,
        color-border:#ced4da,
        color-placeholder:#adb5bd,
        color-icons:#adb5bd,
        color-error:#d00000,
        shadow-day: 0px 0px 4px #00000023,
        shadow-button: 0px 0px 2px #00000023,
    ),
    raspberry: (
        color-primary: #A53860,
        color-background:#ffffff,
        color-background-alt:#F9DBBD,
        color-background-skeleton:#00000005,
        color-text: #450920,
        color-border:#ced4da,
        color-placeholder:#adb5bd,
        color-icons:#adb5bd,
        color-error:#d00000,
        shadow-day: 0px 0px 4px #00000023,
        shadow-button: 0px 0px 2px #00000023,
    ),
    viridian: (
        color-primary: #40826d,
        color-background:#ffffff,
        color-background-alt:#EAF4F4,
        color-background-skeleton:#00000005,
        color-text: rgb(76, 77, 79),
        color-border:#ced4da,
        color-placeholder:#adb5bd,
        color-icons:#adb5bd,
        color-error:#d00000,
        shadow-day: 0px 0px 4px #052c1c3c,
        shadow-button: 0px 0px 2px #052c1c3c,
    ),
    caribbean: (
        color-primary: #02C39A,
        color-background:#ffffff,
        color-background-alt:#eff3f5,
        color-background-skeleton:#00000005,
        color-text: #495057,
        color-border:#ced4da,
        color-placeholder:#adb5bd,
        color-icons:#adb5bd,
        color-error:#d00000,
        shadow-day: 0px 0px 4px #00000023,
        shadow-button: 0px 0px 2px #00000023,
    ),
    dark: (
        color-primary: #ededed,
        color-background:#333333,
        color-background-alt:#464444,
        color-background-skeleton:#00000005,
        color-text: #f0f0f0,
        color-border:#3b3b3b,
        color-placeholder:#787878,
        color-icons:#b7b4b4,
        color-error:#d00000,
        shadow-day: 0px 0px 4px #00000041,
        shadow-button: 0px 0px 4px #00000041,
    ),
);

@each $themeName, $vars in $themes {
    .rjs-datePicker.rjs-#{$themeName} {
        @each $varName, $value in $vars {
            --#{$varName}:#{$value};
        }
    }

}

.rjs-datePicker {
    max-width: 100%;
    min-width: 200px;
    width: 400px;
    box-sizing: border-box;
    position: relative;
    user-select: none;
    color:var(--color-text);
    & *{user-select: none; box-sizing: border-box;}
    & *:focus{outline:none;}
    &:focus {outline: none;}
    > .rjs-label {
        font-size: 13px;
        padding-bottom: 3px;
        padding-inline: 3px;
        display: block;
        color:var(--color-text);
    }
    > .rjs-wrapper {
        box-sizing: border-box;
        position: relative;
        width: 100%;
        border: 1px solid var(--color-border);
        background-color: var(--color-background);
        border-radius: 3px;
        outline: 2px solid transparent;
        overflow: hidden;
        transition: outline 200ms ease-in-out, border 200ms ease-in-out;
        > .rjs-selector {
            box-sizing: border-box;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 33px;
            cursor: pointer;
            padding-inline: 5px;
            > .rjs-icon,
            > .rjs-icon2 {
                stroke: var(--color-icons);
                flex-shrink: 0;
                width: 18px;
                height: 18px;
                background-color: transparent;
                transition: stroke 200ms ease-in-out;
            }
            > .rjs-icon2 {
                width: 20px;
                height: 20px;
                transform-origin: center;
                transition: transform 0.2s ease-in-out;
                &:hover{
                    stroke:var(--color-primary);
                }
            }
            > .rjs-value {
                flex-grow: 1;
                text-align: start;
                font-size: 13px;
                padding-inline: 5px;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
                flex-grow: 2;
                color:var(--color-text);
                > .rjs-placeholder{
                    color:var(--color-placeholder)
                }
            }
        }
        > .rjs-pickerWrapper {
            border-top: 1px solid var(--color-border);
            width: 100%;
            pointer-events: none;
            user-select: none;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            margin-inline: auto;
            max-height: 0;
            opacity: 0;
            transition: max-height 200ms 100ms cubic-bezier(0.76, 0, 0.24, 1),
                opacity 200ms 100ms cubic-bezier(0.76, 0, 0.24, 1);
            > .rjs-periods {
                outline: none;
                padding: 10px 0;
                width: 130px;
                z-index: 5;
                border-inline-end:1px solid var(--color-border);
                background-color: var(--color-background);
                height: -webkit-fill-available;
                > .rjs-period {
                    padding: 7px 5px;
                    margin-inline: 5px;
                    width: calc(100% - 10px);
                    display: inline-flex;
                    align-items: center;
                    cursor: pointer;
                    gap: 4px;
                    &.rjs-selected {
                        :nth-child(1) {
                            stroke:var(--color-primary);
                        }
                        :nth-child(2) {
                            font-weight: 600;
                            color:var(--color-primary);
                        }
                    }
                    > :nth-child(1) {
                        width: 17px;
                        height: 17px;
                        flex-shrink: 0;
                        stroke:var(--color-icons);
                    }
                    > :nth-child(2) {
                        font-size: 13px;
                        width: 100%;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        white-space: nowrap;
                    }
                    &.rjs-focus {
                        background-color: var(--color-background-alt);
                        > :nth-child(2) {
                            font-weight: 600;
                        }
                    }
                }
            }
            > .rjs-picker {
                width: calc(100% - 130px);
                > .rjs-head {
                    width: 100%;
                    padding: 10px;
                    display: inline-flex;
                    align-items: center;
                    > .rjs-arrowLeft,
                    > .rjs-arrowRight {
                        stroke:var(--color-icons);
                        flex-shrink: 0;
                        width: 30px;
                        height: 30px;
                        padding: 3px;
                        cursor: pointer;
                        border-radius: 3px;
                        outline:none;
                        border:none;
                        background-color: transparent;
                        transition: stroke 200ms ease-in-out,
                            background-color 200ms ease-in-out;
                        &:focus-visible{outline:2px solid var(--color-primary)}
                        &:hover{
                            stroke:var(--color-icons);
                            background-color: var(--color-background-alt);
                        }
                    }
                    > .rjs-label {
                        flex-grow: 1;
                        text-align: center;
                        font-size: 14px;
                    }
                }
                > .rjs-body {
                    width: 100%;
                    transition: transform 100ms cubic-bezier(0.45, 0, 0.55, 1),
                        opacity 200ms cubic-bezier(0.45, 0, 0.55, 1);
                    > .rjs-weekDays {
                        display: grid;
                        margin-top: 10px;
                        grid-template-columns: repeat(7, 1fr);
                        width: 100%;
                        padding: 10px;
                        > .rjs-week {
                            display: inline-flex;
                            align-items: center;
                            justify-content: center;
                            text-align: center;
                            font-size: 13px;
                        }
                    }
                    > .rjs-days {
                        touch-action: none;
                        overscroll-behavior: contain;
                        user-select: none;
                        width: calc(100% - 20px);
                        margin-inline: 10px;
                        padding-block: 10px;
                        display: grid;
                        gap: 2px 0;
                        grid-template-columns: repeat(7, 1fr);
                        grid-template-rows: repeat(6, 1fr);
                        outline: none;
                        &:focus-visible {
                            > .rjs-day.rjs-highlight {
                                outline:2px solid var(--color-primary);
                                outline-offset: 0px;
                                border-radius: 5px;
                                z-index: 1;
                            }
                        }
                        > .rjs-day {
                            display: inline-flex;
                            align-items: center;
                            justify-content: center;
                            aspect-ratio: 1 / 1;
                            text-align: center;
                            font-size: 13px;
                            border-radius: 5px;
                            cursor: pointer;
                            transition: box-shadow 200ms
                                cubic-bezier(0.5, 0, 0.75, 0);
                            &:hover{
                                box-shadow:var(--shadow-day);
                            }
                            &.rjs-selected, 
                            &.rjs-rangeStart,
                            &.rjs-rangeEnd {
                                background-color: var(--color-primary);
                                color: var(--color-background);
                            }
                            &.rjs-otherMonth {
                                color:var(--color-placeholder);
                            }
                            &.rjs-selected {
                                border-radius: 25px;
                            }
                            &.rjs-rangeStart {
                                border-top-left-radius: 25px !important;
                                border-bottom-left-radius: 25px !important;
                                border-top-right-radius: 0px;
                                border-bottom-right-radius: 0px;
                            }
                            &.rjs-rangeEnd {
                                border-top-right-radius: 25px !important;
                                border-bottom-right-radius: 25px !important;
                                border-top-left-radius: 0px;
                                border-bottom-left-radius: 0px;
                            }
                            &.rjs-inRange {
                                border-radius: 0px;
                                background-color: var(--color-background-alt);
                            }
                            &.rjs-inHover {
                                opacity: 0.6;
                            }
                        }
                    }
                    &.rjs-toRight {
                        transform: translateX(100%);
                    }
                    &.rjs-toLeft {
                        transform: translateX(-100%);
                    }
                    &.rjs-fadeout {
                        opacity: 0;
                    }
                    &.rjs-preventAnimation {
                        transition: none;
                    }
                }
                > .rjs-btns {
                    width: 100%;
                    display: inline-flex;
                    padding: 10px;
                    gap: 5px;
                    align-items: center;
                    justify-content: flex-end;
                    > button.rjs-clearBtn{
                        color:var(--color-text);
                        background-color: var(--color-background);
                        &:hover{background-color: var(--color-background-alt);}
                        &:active{background-color: var(--color-background);}
                        
                    }
                    > button.rjs-applyBtn{
                        color:var(--color-background);
                        background-color: var(--color-primary);
                    }
                    > button{
                        outline:none;
                        border:none;
                        cursor: pointer;
                        padding:7px 20px;
                        font-size: 13px;
                        border-radius: 3px;
                        transition: background-color 200ms ease-in-out;
                        box-shadow: var(--shadow-button);
                        &:focus-visible{outline:2px solid var(--color-primary);}
                        &:disabled{
                            box-shadow:none;
                            background-color: var(--color-background-alt);
                            color:var(--color-placeholder);
                            cursor: auto;
                        }
                    }

                }
            }
        }
    }
    &[data-mode="single"] {
        width: 275px;
        > .rjs-wrapper {
            > .rjs-pickerWrapper {
                > .rjs-periods {
                    display: none !important;
                }
                > .rjs-picker {
                    width: 100%;
                }
            }
        }
    }

    &.rjs-focus:focus-within:not(.rjs-loading),
    &.rjs-focus-force:not(.rjs-loading) {
        > .rjs-wrapper {
            border: 1px solid transparent !important;
            outline:2px solid var(--color-primary);
            > .rjs-selector {
                > .rjs-icon2 {
                    transform: rotateZ(180deg);
                    stroke:var(--color-primary);
                }
            }
            > .rjs-pickerWrapper {
                pointer-events: all;
                user-select: auto;
                max-height: 1500px;
                opacity: 1;
            }
        }
    }

    > .rjs-errorMsg {
        font-size: 12px;
        text-align: start;
        margin-top: 3px;
        margin-inline-start: 3px;
        color:var(--color-error)
    }

    &.rjs-error {
        > .rjs-wrapper {
            > .rjs-selector > .rjs-icon {
                stroke: var(--color-error);
            }
        }
    }

    &.rjs-loading > .rjs-wrapper {
        z-index: 101;
        cursor: wait;
        pointer-events: none;
        user-select: none;
        &::after {
            position: absolute;
            inset: 0 0 0 0;
            z-index: 100;
            content: "";
            background: linear-gradient(
                        100deg,
                        var(--color-background-skeleton) 40%,
                        var(--color-background) 50%,
                        var(--color-background-skeleton) 60%
                    ) var(--color-background-skeleton);
            background-size: 200% 100%;
            background-position-x: 120%;
            animation: 1s rjsdpSkeleton ease-in-out infinite;
        }
    }
    
}

@media (max-width: 424px) {
    .rjs-datePicker {
        &.rjs-focus:focus-within:not(.rjs-loading) {
            > .rjs-wrapper {
                > .rjs-pickerWrapper {
                    max-height: 1000px !important;
                }
            }
        }
        > .rjs-wrapper {
            > .rjs-pickerWrapper {
                flex-direction: column;
                max-height: 0;
                > .rjs-periods {
                    width: 100%;
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    border-inline-end: none;
                    border-bottom: 1px solid var(--color-border);
                }
                > .rjs-picker {
                    width: 100%;
                }
            }
        }
    }
}
@keyframes rjsdpSkeleton {
    to {
      background-position-x: -10%;
    }
}
